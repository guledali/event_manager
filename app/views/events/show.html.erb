<% content_for :title, @event.name %>

<div class="mb-4">
  <%= link_to events_path, class: "btn btn-outline-secondary mb-3" do %>
    <i class="bi bi-arrow-left"></i> Back to events
  <% end %>
</div>

<div class="card shadow-sm mb-4">
  <% if @event.image.attached? %>
    <div class="card-img-top text-center bg-light">
      <%= image_tag @event.image.variant(resize_to_fit: [1200, 500]), class: "img-fluid", style: "max-height: 400px;" %>
    </div>
  <% end %>

  <div class="card-header bg-white">
    <h1 class="card-title mb-0"><%= @event.name %></h1>
  </div>

  <div class="card-body">
    <div class="row mb-4">
      <div class="col-md-6">
        <h5 class="text-muted mb-3">Event Details</h5>
        <p>
          <i class="bi bi-calendar me-2"></i>
          <% if @event.start_date.to_date == @event.end_date.to_date %>
            <strong><%= @event.start_date.strftime("%B %d, %Y") %></strong><br>
            <span class="ms-4"><%= @event.start_date.strftime("%I:%M %p") %> - <%= @event.end_date.strftime("%I:%M %p") %></span>
          <% else %>
            <strong><%= @event.start_date.strftime("%B %d, %Y") %> - <%= @event.end_date.strftime("%B %d, %Y") %></strong><br>
            <span class="ms-4">Starts: <%= @event.start_date.strftime("%I:%M %p") %></span><br>
            <span class="ms-4">Ends: <%= @event.end_date.strftime("%I:%M %p") %></span>
          <% end %>
        </p>

        <p>
          <i class="bi bi-geo-alt me-2"></i>
          <strong>Location:</strong><br>
          <span class="ms-4"><%= @event.location %></span>
        </p>

        <p>
          <i class="bi bi-people me-2"></i>
          <strong>Capacity:</strong> <%= @event.capacity %> attendees
        </p>
      </div>

      <div class="col-md-6">
        <h5 class="text-muted mb-3">Description</h5>
        <div class="p-3 bg-light rounded">
          <%= simple_format(@event.description) %>
        </div>
      </div>
    </div>
  </div>

  <div class="card-footer bg-white d-flex justify-content-between">
    <%= link_to edit_event_path(@event), class: "btn btn-warning" do %>
      <i class="bi bi-pencil"></i> Edit
    <% end %>

    <%= button_to @event, method: :delete, class: "btn btn-danger", form: { data: { turbo_confirm: "Are you sure you want to delete this event?" } } do %>
      <i class="bi bi-trash"></i> Delete
    <% end %>
  </div>
</div>
